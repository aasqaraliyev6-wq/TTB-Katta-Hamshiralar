<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katta Hamshiralar</title>
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333; 
            line-height: 1.6; 
            min-height: 100vh;
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }
        
        header { 
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50; 
            padding: 20px 0; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        .header-content { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        
        .logo { 
            font-size: 2rem; 
            font-weight: bold; 
            display: flex; 
            align-items: center; 
            color: #2E86DE;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .logo i { 
            margin-right: 15px; 
            font-size: 2.5rem; 
            color: #2E86DE;
        }
        
        nav ul { 
            display: flex; 
            list-style: none; 
        }
        
        nav ul li { 
            margin-left: 30px; 
        }
        
        nav ul li a { 
            color: #2c3e50; 
            text-decoration: none; 
            font-weight: 600; 
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 25px;
        }
        
        nav ul li a:hover { 
            background: #2E86DE;
            color: white;
            transform: translateY(-2px);
        }
        
        .hero { 
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 0; 
            text-align: center; 
            border-radius: 30px;
            margin: 30px 0;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .hero h1 { 
            font-size: 3rem; 
            margin-bottom: 20px; 
            color: #2c3e50;
            background: linear-gradient(135deg, #2E86DE, #10AC84);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .hero p { 
            font-size: 1.3rem; 
            color: #7f8c8d; 
            max-width: 700px; 
            margin: 0 auto 30px;
            line-height: 1.8;
        }
        
        .dashboard { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); 
            gap: 30px; 
            margin-bottom: 50px; 
        }
        
        .card { 
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px; 
            padding: 30px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .card:hover { 
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .card h2 { 
            color: #2c3e50; 
            margin-bottom: 25px; 
            padding-bottom: 15px; 
            border-bottom: 3px solid #f1f2f6;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group { 
            margin-bottom: 25px; 
        }
        
        .form-group label { 
            display: block; 
            margin-bottom: 12px; 
            font-weight: 600; 
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        .form-control { 
            width: 100%; 
            padding: 15px 20px; 
            border: 2px solid #e9ecef; 
            border-radius: 12px; 
            font-size: 16px; 
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
        }
        
        .form-control:focus { 
            border-color: #2E86DE; 
            outline: none;
            box-shadow: 0 0 0 3px rgba(46, 134, 222, 0.1);
            transform: translateY(-2px);
        }
        
        .btn { 
            background: linear-gradient(135deg, #2E86DE, #1a6fc6);
            color: white; 
            padding: 15px 30px; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: 600; 
            transition: all 0.3s ease;
            margin: 5px;
            box-shadow: 0 5px 15px rgba(46, 134, 222, 0.3);
        }
        
        .btn:hover { 
            background: linear-gradient(135deg, #1a6fc6, #2E86DE);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(46, 134, 222, 0.4);
        }
        
        .btn-location { 
            background: linear-gradient(135deg, #FF9F43, #FF8C29);
            box-shadow: 0 5px 15px rgba(255, 159, 67, 0.3);
            width: 100%;
        }
        
        .btn-location:hover { 
            background: linear-gradient(135deg, #FF8C29, #FF9F43);
            box-shadow: 0 8px 25px rgba(255, 159, 67, 0.4);
        }
        
        footer { 
            background: rgba(44, 62, 80, 0.95);
            color: white; 
            padding: 40px 0; 
            margin-top: 80px;
            backdrop-filter: blur(10px);
        }
        
        .footer-content { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        
        .footer-contact { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            font-size: 1.1rem; 
        }
        
        .footer-contact a { 
            color: white; 
            text-decoration: none; 
            font-weight: 500; 
        }
        
        .footer-contact a:hover { 
            text-decoration: underline; 
        }
        
        .success { 
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724; 
            padding: 20px; 
            border-radius: 12px; 
            margin: 20px 0; 
            display: none; 
            border: 2px solid #155724;
            text-align: center;
            font-weight: 600;
        }
        
        .location-status { 
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            color: #0c5460; 
            padding: 15px; 
            border-radius: 12px; 
            margin: 15px 0; 
            display: none; 
            border: 2px solid #0c5460;
            text-align: center;
            font-weight: 600;
        }
        
        .error { 
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24; 
            padding: 20px; 
            border-radius: 12px; 
            margin: 20px 0; 
            display: none; 
            border: 2px solid #721c24;
            text-align: center;
            font-weight: 600;
        }
        
        .office-info { 
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: #1565c0; 
            padding: 15px; 
            border-radius: 12px; 
            margin: 15px 0; 
            border: 2px solid #1565c0;
            text-align: center;
            font-weight: 600;
        }
        
        .office-map { 
            margin: 15px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 768px) {
            .header-content { flex-direction: column; text-align: center; }
            nav ul { margin-top: 20px; flex-wrap: wrap; justify-content: center; }
            nav ul li { margin: 5px 10px; }
            .footer-content { flex-direction: column; text-align: center; gap: 20px; }
            .footer-contact { justify-content: center; }
            .hero h1 { font-size: 2.2rem; }
            .hero p { font-size: 1.1rem; }
            .dashboard { grid-template-columns: 1fr; }
            .office-map iframe { height: 300px; }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-stethoscope"></i>
                <span>Katta Hamshiralar</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#"><i class="fas fa-home"></i> –ë–æ—à —Å–∞“≥–∏—Ñ–∞</a></li>
                    <li><a href="#"><i class="fas fa-cog"></i> –°–æ–∑–ª–∞–º–∞–ª–∞—Ä</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Katta Hamshiralar</h1>
            <p>–¢–∏–±–±–∏–π —Ö–∏–∑–º–∞—Ç–ª–∞—Ä–Ω–∏ —Ç–∞—à–∫–∏–ª–ª–∞—à—Ç–∏—Ä–∏—à –≤–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ “õ–∏–ª–∏—à</p>
        </div>
    </section>

    <div class="container">
        <div class="dashboard">
            <div class="card">
                <h2><i class="fas fa-plus-circle"></i> –Ø–Ω–≥–∏ –ü–∞—Ç—Ä–æ–Ω–∞–∂ “ö—û—à–∏—à</h2>
                
                <div class="office-info">
                    <i class="fas fa-building"></i> 
                    –ñ–æ–π–ª–∞—à—É–≤ —Ñ–∞“õ–∞—Ç –∏—à—Ö–æ–Ω–∞–¥–∞ –æ–ª–∏–Ω–∞–¥–∏!
                </div>
                
                <div class="office-map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4879.990025529066!2d71.75738277942109!3d40.48599540620792!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38bb7700344a9cdb%3A0xb3ad02218ee0af7d!2sToshloq%20tumani%20tibbiyot%20birlashmasi!5e0!3m2!1sru!2s!4v1761984918524!5m2!1sru!2s" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                
                <div class="form-group">
                    <label>–ë—û–ª–∏–º –Ω–æ–º–∏ *</label>
                    <input type="text" class="form-control" id="departmentName" placeholder="–ë—û–ª–∏–º –Ω–æ–º–∏–Ω–∏ –∫–∏—Ä–∏—Ç–∏–Ω–≥" required>
                </div>
                
                <div class="form-group">
                    <label>–õ–∞–≤–æ–∑–∏–º–∏ *</label>
                    <input type="text" class="form-control" id="position" placeholder="–õ–∞–≤–æ–∑–∏–º–∏–Ω–∏ –∫–∏—Ä–∏—Ç–∏–Ω–≥" required>
                </div>
                
                <div class="form-group">
                    <label>–•–æ–¥–∏–º –ò—Å–º –§–∞–º–∏–ª–∏—è—Å–∏ *</label>
                    <input type="text" class="form-control" id="loginFI" placeholder="–•–æ–¥–∏–º –ò—Å–º –§–∞–º–∏–ª–∏—è—Å–∏–Ω–∏ –∫–∏—Ä–∏—Ç–∏–Ω–≥" required>
                </div>

                <div class="form-group">
                    <label>–ñ–æ–π–ª–∞—à—É–≤ *</label>
                    <button type="button" class="btn btn-location" onclick="getLocation()">
                        <i class="fas fa-map-marker-alt"></i> –ñ–æ–π–ª–∞—à—É–≤–Ω–∏ –û–ª–∏—à
                    </button>
                    <div class="location-status" id="locationStatus">
                        <i class="fas fa-check-circle"></i> –ñ–æ–π–ª–∞—à—É–≤ –º—É–≤–∞—Ñ—Ñ–∞“õ–∏—è—Ç–ª–∏ “õ–∞–±—É–ª “õ–∏–ª–∏–Ω–¥–∏!
                    </div>
                </div>
                
                <button class="btn" onclick="savePatronage()" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-paper-plane"></i> –Æ–±–æ—Ä–∏—à
                </button>
                
                <div class="success" id="successMessage">
                    <i class="fas fa-check-circle"></i> –ú–∞—ä–ª—É–º–æ—Ç–ª–∞—Ä –º—É–≤–∞—Ñ—Ñ–∞“õ–∏—è—Ç–ª–∏ —é–±–æ—Ä–∏–ª–¥–∏!
                </div>
                
                <div class="error" id="errorMessage">
                    <i class="fas fa-exclamation-circle"></i> –ú–∞—ä–ª—É–º–æ—Ç–ª–∞—Ä–Ω–∏ —é–±–æ—Ä–∏—à–¥–∞ —Ö–∞—Ç–æ–ª–∏–∫ —é–∑ –±–µ—Ä–¥–∏!
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container footer-content">
            <div>
                <p>&copy; 2025 –¢–æ—à–ª–æ“õ –¢–¢–ë –ö–∞—Ç—Ç–∞ “≤–∞–º—à–∏—Ä–∞–ª–∞—Ä–∏. –ë–∞—Ä—á–∞ “≥—É“õ—É“õ–ª–∞—Ä “≥–∏–º–æ—è–ª–∞–Ω–≥–∞–Ω.</p>
            </div>
            <div class="footer-contact">
                <i class="fas fa-phone"></i>
                <a href="tel:+998338351187">+998 33 835 11 87</a>
            </div>
        </div>
    </footer>

    <script>
        let userLocation = null;

        // Telegram bot sozlamalari
        const botToken = '8277276194:AAFrvVNDZsWEO_XhhRaFc0xpyhzUDiXP8cE';
        const chatId = '-5008939586';

        // Toshloq tumani tibbiyot birlashmasi joylashuvi
        const officeLocation = {
            latitude: 40.485995,   // Ishxona markazi latitude
            longitude: 71.757382,  // Ishxona markazi longitude  
            radius: 150 // Metrlarda (150m = butun ishxona hududi)
        };

        // Ikki nuqta orasidagi masofani hisoblash (metrlarda)
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371000; // Yer radiusi metrlarda
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            const distance = R * c;
            return distance;
        }

        // Joylashuv ishxonada ekanligini tekshirish
        function isInOffice(currentLat, currentLon) {
            const distance = calculateDistance(
                currentLat, currentLon,
                officeLocation.latitude, officeLocation.longitude
            );
            return distance <= officeLocation.radius;
        }

        function getLocation() {
            if (!navigator.geolocation) {
                alert("‚ùå –ë—Ä–∞—É–∑–µ—Ä–∏–Ω–≥–∏–∑ –∂–æ–π–ª–∞—à—É–≤–Ω–∏ “õ—û–ª–ª–∞–±-“õ—É–≤–≤–∞—Ç–ª–∞–º–∞–π–¥–∏");
                return;
            }
            const locationBtn = document.querySelector('.btn-location');
            const originalText = locationBtn.innerHTML;
            locationBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ñ–æ–π–ª–∞—à—É–≤ –æ–ª–∏–Ω–º–æ“õ–¥–∞...';
            locationBtn.disabled = true;
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const currentLat = position.coords.latitude;
                    const currentLon = position.coords.longitude;
                    
                    // Ishxonada ekanligini tekshirish
                    if (isInOffice(currentLat, currentLon)) {
                        userLocation = { 
                            latitude: currentLat, 
                            longitude: currentLon, 
                            accuracy: position.coords.accuracy 
                        };
                        document.getElementById('locationStatus').style.display = 'block';
                        document.getElementById('locationStatus').innerHTML = 
                            '<i class="fas fa-check-circle"></i> –ñ–æ–π–ª–∞—à—É–≤ –º—É–≤–∞—Ñ—Ñ–∞“õ–∏—è—Ç–ª–∏ “õ–∞–±—É–ª “õ–∏–ª–∏–Ω–¥–∏! (–ò—à—Ö–æ–Ω–∞–¥–∞)';
                        document.getElementById('locationStatus').style.background = 'linear-gradient(135deg, #d4edda, #c3e6cb)';
                        document.getElementById('locationStatus').style.color = '#155724';
                        document.getElementById('locationStatus').style.borderColor = '#155724';
                        locationBtn.innerHTML = '<i class="fas fa-check-circle"></i> –ñ–æ–π–ª–∞—à—É–≤ –û–ª–∏–Ω–¥–∏';
                        locationBtn.style.background = '#10AC84';
                        console.log('–ñ–æ–π–ª–∞—à—É–≤ –æ–ª–∏–Ω–¥–∏ (–∏—à—Ö–æ–Ω–∞–¥–∞):', userLocation);
                    } else {
                        const distance = calculateDistance(currentLat, currentLon, officeLocation.latitude, officeLocation.longitude);
                        document.getElementById('locationStatus').style.display = 'block';
                        document.getElementById('locationStatus').innerHTML = 
                            `<i class="fas fa-exclamation-triangle"></i> –°–∏–∑ –∏—à—Ö–æ–Ω–∞–¥–∞ —ç–º–∞—Å—Å–∏–∑! –ò—à—Ö–æ–Ω–∞–¥–∞–Ω ${Math.round(distance)} –º —É–∑–æ“õ–¥–∞—Å–∏–∑`;
                        document.getElementById('locationStatus').style.background = 'linear-gradient(135deg, #f8d7da, #f5c6cb)';
                        document.getElementById('locationStatus').style.color = '#721c24';
                        document.getElementById('locationStatus').style.borderColor = '#721c24';
                        locationBtn.innerHTML = '<i class="fas fa-map-marker-alt"></i> –ñ–æ–π–ª–∞—à—É–≤–Ω–∏ –û–ª–∏—à';
                        locationBtn.style.background = '#FF9F43';
                        userLocation = null;
                        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ –æ—Ñ–∏—Å–µ. –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ:', Math.round(distance), '–º');
                    }
                },
                function(error) {
                    let errorMessage = "‚ùå –ñ–æ–π–ª–∞—à—É–≤–Ω–∏ –æ–ª–∏—à–¥–∞ —Ö–∞—Ç–æ–ª–∏–∫: ";
                    switch(error.code) {
                        case error.PERMISSION_DENIED: errorMessage += "–†—É—Ö—Å–∞—Ç –±–µ—Ä–º–∞–¥–∏"; break;
                        case error.POSITION_UNAVAILABLE: errorMessage += "–ú–∞—ä–ª—É–º–æ—Ç–ª–∞—Ä –π—û“õ"; break;
                        case error.TIMEOUT: errorMessage += "–í–∞“õ—Ç —Ç—É–≥–∞–¥–∏"; break;
                        default: errorMessage += "–ù–æ–º–∞—ä–ª—É–º"; break;
                    }
                    alert(errorMessage);
                    locationBtn.innerHTML = originalText;
                    locationBtn.disabled = false;
                    locationBtn.style.background = '#FF9F43';
                },
                { enableHighAccuracy: true, timeout: 15000, maximumAge: 60000 }
            );
        }

        function savePatronage() {
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'none';

            const departmentName = document.getElementById('departmentName').value.trim();
            const position = document.getElementById('position').value.trim();
            const loginFI = document.getElementById('loginFI').value.trim();

            if(!departmentName || !position || !loginFI) {
                alert('‚ùå –ò–ª—Ç–∏–º–æ—Å, –±–∞—Ä—á–∞ * –º–∞–π–¥–æ–Ω–ª–∞—Ä–Ω–∏ —Ç—û–ª–¥–∏—Ä–∏–Ω–≥!');
                return;
            }

            if (!userLocation) {
                alert('‚ùå –ò–ª—Ç–∏–º–æ—Å, –∞–≤–≤–∞–ª –∂–æ–π–ª–∞—à—É–≤–Ω–∏ –æ–ª–∏–Ω–≥ –≤–∞ –∏—à—Ö–æ–Ω–∞–¥–∞ —ç–∫–∞–Ω–ª–∏–≥–∏–Ω–≥–∏–∑–Ω–∏ —Ç–µ–∫—à–∏—Ä–∏–Ω–≥!');
                return;
            }

            const submitBtn = document.querySelector('.btn');
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –Æ–±–æ—Ä–∏–ª–º–æ“õ–¥–∞...';
            submitBtn.disabled = true;

            const locationLink = `https://www.google.com/maps?q=${userLocation.latitude},${userLocation.longitude}`;
            const locationText = `üìç –ñ–æ–π–ª–∞—à—É–≤: ${userLocation.latitude.toFixed(6)}, ${userLocation.longitude.toFixed(6)} (–∞–Ω–∏“õ–ª–∏–∫: ${userLocation.accuracy.toFixed(0)} –º)`;
            
            // Sana va vaqtni olish
            const now = new Date();
            const dateStr = now.toLocaleDateString('uz-UZ', { year: 'numeric', month: 'long', day: 'numeric' });
            const timeStr = now.toLocaleTimeString('uz-UZ');
            
            const message = `üè• –Ø–ù–ì–ò –ü–ê–¢–†–û–ù–ê–ñ –ú–ê–™–õ–£–ú–û–¢–õ–ê–†–ò

üìã –ë—û–ª–∏–º –Ω–æ–º–∏: ${departmentName}
üíº –õ–∞–≤–æ–∑–∏–º–∏: ${position}
üë§ –•–æ–¥–∏–º –ò—Å–º –§–∞–º–∏–ª–∏—è—Å–∏: ${loginFI}

üó∫Ô∏è ${locationText}
üîó –•–∞—Ä–∏—Ç–∞: ${locationLink}

üìÖ –°–∞–Ω–∞: ${dateStr}
‚è∞ –í–∞“õ—Ç: ${timeStr}

‚úÖ –ú–∞—ä–ª—É–º–æ—Ç–ª–∞—Ä –º—É–≤–∞—Ñ—Ñ–∞“õ–∏—è—Ç–ª–∏ —é–±–æ—Ä–∏–ª–¥–∏!`;

            // Telegram ga xabar yuborish
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message
                })
            })
            .then(response => {
                if (!response.ok) throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                return response.json();
            })
            .then(data => {
                if (!data.ok) throw new Error(data.description || '–ù–æ–º–∞—ä–ª—É–º —Ö–∞—Ç–æ–ª–∏–∫');
                
                // Joylashuvni yuborish
                return fetch(`https://api.telegram.org/bot${botToken}/sendLocation`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: chatId,
                        latitude: userLocation.latitude,
                        longitude: userLocation.longitude
                    })
                });
            })
            .then(locResponse => locResponse ? locResponse.json() : null)
            .then(locData => {
                showSuccessMessage();
                userLocation = null;
                document.getElementById('locationStatus').style.display = 'none';
                const locationBtn = document.querySelector('.btn-location');
                locationBtn.innerHTML = '<i class="fas fa-map-marker-alt"></i> –ñ–æ–π–ª–∞—à—É–≤–Ω–∏ –û–ª–∏—à';
                locationBtn.style.background = '#FF9F43';
                locationBtn.disabled = false;
            })
            .catch(error => {
                console.error('–•–∞—Ç–æ–ª–∏–∫:', error);
                document.getElementById('errorMessage').style.display = 'block';
                alert('‚ùå –•–∞—Ç–æ–ª–∏–∫: ' + error.message);
            })
            .finally(() => {
                submitBtn.innerHTML = originalBtnText;
                submitBtn.disabled = false;
            });
        }

        function showSuccessMessage() {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('departmentName').value = '';
            document.getElementById('position').value = '';
            document.getElementById('loginFI').value = '';
            setTimeout(() => document.getElementById('successMessage').style.display = 'none', 5000);
        }

        console.log('–°–∞–π—Ç —é–∫–ª–∞–Ω–¥–∏ - Katta Hamshiralar —Ç–∏–∑–∏–º–∏.');
        console.log('Telegram bot sozlamalari:');
        console.log('- Token:', botToken);
        console.log('- Chat ID:', chatId);
        console.log('Ishxona joylashuvi:');
        console.log('- Latitude:', officeLocation.latitude);
        console.log('- Longitude:', officeLocation.longitude);
        console.log('- Radius:', officeLocation.radius, 'm');
    </script>
</body>
</html>
